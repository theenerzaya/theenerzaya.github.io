(window.webpackJsonp=window.webpackJsonp||[]).push([["financial-times-o-lazy-load"],{"45ca1072":function(t,e,o){"use strict";o.r(e);const s={selector:".o-lazy-load"},a="data-o-lazy-load";function n(t){"picture"===t.nodeName.toLowerCase()&&Array.from(t.children).forEach(n),t.hasAttribute("data-src")&&(t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")),t.hasAttribute("data-srcset")&&(t.srcset=t.getAttribute("data-srcset"),t.removeAttribute("data-srcset")),t.hasAttribute("data-toggle-class")&&(t.classList.toggle(t.getAttribute("data-toggle-class")),t.removeAttribute("data-toggle-class")),t.setAttribute(a,!0)}function r(t){return t.hasAttribute(a)}function c(t,e){const o=e.thresholds[0];t.forEach(t=>{if(t.isIntersecting&&t.intersectionRatio>=o){const o=t.target;e.unobserve(o),r(o)||(n(o),"function"==typeof this.options.callback&&this.options.callback(o))}})}class i{constructor(t,e){this.rootEl=t,this.options=Object.assign({},s,e,i.getDataAttributes(t)),t===document.documentElement||t===document.body?this.options.root=null:this.options.root=t,this.observer=new IntersectionObserver(c.bind(this),this.options),this.observe()}observe(){this.rootEl.querySelectorAll(this.options.selector).forEach(t=>{r(t)||this.observer.observe(t)})}static getDataAttributes(t){return t instanceof HTMLElement?Object.keys(t.dataset).reduce((e,o)=>{if("oComponent"===o)return e;const s=o.replace(/^oLazyLoad(\w)(\w+)$/,(t,e,o)=>e.toLowerCase()+o),a=t.dataset[o];try{e[s]=JSON.parse(a.replace(/\'/g,'"'))}catch(t){e[s]=a}return e},{}):{}}static init(t,e){return t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),t instanceof HTMLElement&&t.matches('[data-o-component="o-lazy-load"]')?new i(t,e):Array.from(t.querySelectorAll('[data-o-component="o-lazy-load"]'),t=>new i(t,e))}}var d=i;const l=function(){d.init(),document.removeEventListener("o.DOMContentLoaded",l)};"undefined"!=typeof document&&document.addEventListener("o.DOMContentLoaded",l);e.default=d}}]);
//# sourceMappingURL=financial-times-o-lazy-load.452b4e251abf.bundle.js.map