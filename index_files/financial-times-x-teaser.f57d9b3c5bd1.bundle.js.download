(window.webpackJsonp=window.webpackJsonp||[]).push([["financial-times-x-teaser"],{"8cad10c2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=a("7220c657"),o=(i=a("156ca0ea"))&&"object"==typeof i&&"default"in i?i.default:i,s=a("fc863d5d"),n={media:function(e){return e.showVideo&&e.video&&e.video.url?"video":e.showHeadshot&&e.headshot&&e.indicators.isColumn?"headshot":e.showImage&&e.image&&e.image.url?"image":void 0},theme:function(e){return e.theme?e.theme:"inprogress"===e.status?"live":e.indicators&&e.indicators.isOpinion?"opinion":e.indicators&&e.indicators.isEditorsChoice?"highlight":e.parentTheme?e.parentTheme:void 0}};function l(e,t){if(n.hasOwnProperty(e))return n[e](t);throw Error("No ruleset available named ".concat(e))}var u=function(e){return l("media",e)},d=function(e){var t=[],a=u(e);a&&t.push("has-".concat(a));var i=function(e){return l("theme",e)}(e);return i&&t.push(i),t},c=function(e){var t=d(e),a=[e.type,e.layout].concat(e.modifiers,t).filter(Boolean).map((function(e){return"o-teaser--".concat(e)})).join(" ");return r.h("div",{className:"o-teaser ".concat(a," js-teaser"),"data-id":e.id,"data-trackable":e.dataTrackable},e.children)},h=function(e){var t=e.children,a=void 0===t?[]:t;return r.h("div",{className:"o-teaser__content"},a)},m=function(e){var t,a=e.customSlot;return a?r.h("div",{className:"o-teaser__action"},"string"==typeof(t=a)?r.h("span",{dangerouslySetInnerHTML:{__html:t}}):t):null},f={Headshot:75,XS:180,Small:240,Medium:340,Large:420,XL:640,XXL:1180},p="small",v="hero",g="top-story";function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _(e,t){if(null==e)return{};var a,i,r=function(e,t){if(null==e)return{};var a,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)a=o[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var S={source:"next",fit:"scale-down",dpr:2};function T(e,t,a){var i=new URL("".concat("https://www.ft.com/__origami/service/image/v2/images/raw","/").concat(encodeURIComponent(e)));return i.search=new URLSearchParams(y(y({},S),a)),i.searchParams.set("width",t),i.href}var N=function(e){var t=e.headshot,a=e.headshotTint,i={tint:"".concat(a||"054593,d6d5d3")};return t?r.h("img",{className:"o-teaser__headshot",width:f.Headshot,height:f.Headshot,alt:"","aria-hidden":"true",src:T(t,f.Headshot,i)}):null},O=["customElements"],L=function(e){var t=e.url,a=e.attrs,i=void 0===a?{}:a,o=e.children;return t?r.h("a",Object.assign({href:t},i),o):r.h("span",i,o)},j=function(e){var t=e.customElements,a=void 0===t?{}:t,i=_(e,O),o=a.Link||L;return r.h(o,i)},k=["relativeUrl","url","image","imageSize","imageLazyLoad","imageHighestQuality"],x=function(e){var t=e.src;return r.h("img",{className:"o-teaser__image",src:t,alt:""})},P=function(e){var t=e.src,a=e.lazyLoad,i="string"==typeof a?a:"";return r.h("img",{className:"o-teaser__image ".concat(i),"data-src":t,alt:""})},I=function(e){var t=e.relativeUrl,a=e.url,i=e.image,o=e.imageSize,s=e.imageLazyLoad,n=e.imageHighestQuality,l=_(e,k);if(!i||i&&!i.url)return null;var u,d,c,h=t||a,m="XXL"===o&&n?{quality:"highest"}:{},p=!(i.url.startsWith("data:")||i.url.startsWith("blob:"))?T(i.url,f[o],m):i.url,v=s?P:x;return r.h("div",{className:"o-teaser__image-container js-teaser-image-container"},r.h(j,Object.assign({},l,{url:h,attrs:{"data-trackable":"image-link",tabIndex:"-1","aria-hidden":"true"}}),r.h("div",{className:"o-teaser__image-placeholder",style:{paddingBottom:(u=i,d=u.width,c=u.height,"number"==typeof d&&"number"==typeof c?(100/d*c).toFixed(4)+"%":null)}},r.h(v,{src:p,lazyLoad:s}))))},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t&&e&&e.parentLabel&&t===e.parentLabel},R=function(e){var t=e.metaPrefixText,a=e.metaLink,i=e.metaAltLink,o=e.metaSuffixText,s=e.context,n=t&&!M(s,t),l=o&&!M(s,o),u=a&&a.id,d=a&&a.prefLabel,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t&&e&&e.parentId&&t===e.parentId}(s,u)||M(s,d)?i:a;return r.h("div",{className:"o-teaser__meta"},n?r.h("span",{className:"o-teaser__tag-prefix"},t):null,c?r.h("a",{className:"o-teaser__tag","data-trackable":"teaser-tag",href:c.relativeUrl||c.url,"aria-label":"Category: ".concat(c.prefLabel)},c.prefLabel):null,l?r.h("span",{className:"o-teaser__tag-suffix"},o):null)},D=function(e){var t=e.promotedPrefixText,a=e.promotedSuffixText;return r.h("div",{className:"o-teaser__meta"},r.h("span",{className:"o-teaser__promoted-prefix"},t)," by",r.h("span",{className:"o-teaser__promoted-by"}," ".concat(a," ")))},H=function(e){return e.promotedPrefixText&&e.promotedSuffixText?r.h(D,e):r.h(R,e)},z=function(e,t){var a=e.id,i=e.type,o=e.title,s=e.url,n=e.relativeUrl||s;return r.h("li",{key:"related-".concat(t),"data-content-id":a,className:"o-teaser__related-item o-teaser__related-item--".concat(i)},r.h("a",{"data-trackable":"related",href:n},o))},U=function(e){var t=e.relatedLinks,a=void 0===t?[]:t;return a&&a.length?r.h("ul",{className:"o-teaser__related"},a.map(z)):null},C=function(e){var t=e.publishedDate;return r.h("div",{className:"o-teaser__timestamp"},r.h("time",{className:"o-teaser__timestamp-date",dateTime:o(t,o.masks.isoDateTime,!0)},o(t,o.masks.longDate,!0)))};function X(e){return Date.now()-function(e){return"string"==typeof e||"number"==typeof e?new Date(e):e}(e).getTime()}var E=function(e){var t,a,i,s=e.publishedDate,n=e.firstPublishedDate,l=e.showAlways,u=void 0!==l&&l,d=X(s),c=function(e,t){return X(e)<36e5?e===t?"new":"updated":""}(s,n);return!0===u||function(e){return e<144e5}(d)?r.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(c)},c?r.h("span",{className:"o-teaser__timestamp-prefix"}," ".concat(c," ")," "):null,r.h("time",{className:"o-teaser__timestamp-date o-date","data-o-component":"o-date","data-o-date-format":u?"time-ago-limit-24-hours":"time-ago-limit-4-hours",dateTime:o(s,o.masks.isoDateTime,!0)},c?"":(t=d,a=Math.floor(Math.abs(t/36e5)),i=0===a?"":"".concat(1===a?"hour":"hours"," ago"),"".concat(a," ").concat(i)))):null},V={inprogress:"Live",comingsoon:"Coming Soon",closed:""},A={inprogress:"live",comingsoon:"pending",closed:"closed"},J=function(e){var t=e.status;return t&&"closed"!==t?r.h("div",{className:"o-teaser__timestamp o-teaser__timestamp--".concat(A[t])},r.h("span",{className:"o-teaser__timestamp-prefix"}," ".concat(V[t]," "))):null},W=function(e){var t=(new Date).toISOString().substr(0,10),a=new Date(e.publishedDate).toISOString().substr(0,10);return s.differenceInCalendarDays(t,a)>=1?r.h(C,e):r.h(E,Object.assign({},e,{showAlways:!0}))},B=function(e){return e.status?r.h(J,e):e.publishedDate?e.useRelativeTimeIfToday?r.h(W,e):e.useRelativeTime?r.h(E,e):r.h(C,e):null},G=["standfirst","altStandfirst","headlineTesting","relativeUrl","url"],Q=function(e){var t=e.standfirst,a=e.altStandfirst,i=e.headlineTesting,o=e.relativeUrl,s=e.url,n=_(e,G),l=i&&a?a:t,u=o||s;return l?r.h("p",{className:"o-teaser__standfirst"},r.h(j,Object.assign({},n,{url:u,attrs:{"data-trackable":"standfirst-link",tabIndex:-1,className:"js-teaser-standfirst-link"}}),l)):null},q=["title","altTitle","headlineTesting","relativeUrl","url","indicators"],F=function(e){var t,a=e.title,i=e.altTitle,o=e.headlineTesting,s=e.relativeUrl,n=e.url,l=e.indicators,u=_(e,q),d=o&&i?i:a,c=s||n;return"video"===u.type?t="Watch video ".concat(d):"audio"===u.type&&(t="Listen to podcast ".concat(d)),r.h("div",{className:"o-teaser__heading"},r.h(j,Object.assign({},u,{url:c,attrs:{"data-trackable":"heading-link",className:"js-teaser-heading-link","aria-label":t}}),d),l&&"premium"===l.accessLevel?r.h("span",null," ",r.h("span",{className:"o-labels o-labels--premium o-labels--content-premium"},"Premium"),r.h("span",{className:"o-normalise-visually-hidden"},"Â content")):null)},K=function(e){return JSON.stringify({renditions:[e.video],mainImageUrl:e.image?e.image.url:null})},Y=function(e){var t="boolean"==typeof e.showGuidance?e.showGuidance.toString():"true";return r.h("div",{className:"o-teaser__image-container js-image-container"},r.h("div",{className:"o-video","data-o-component":"o-video","data-o-video-id":e.id,"data-o-video-data":K(e),"data-o-video-optimumwidth":"640","data-o-video-optimumvideowidth":"640","data-o-video-autorender":"true","data-o-video-playsinline":"true","data-o-video-show-guidance":t,"data-o-video-placeholder":"true","data-o-video-placeholder-info":"[]","data-o-video-placeholder-hint":"Play video","data-o-video-systemcode":e.systemCode}))},Z=function(e){return r.h("div",{className:"o-teaser__video"},r.h("div",{className:"o--if-js"},r.h(Y,e)),r.h("div",{className:"o--if-no-js"},r.h(I,e)))},$={Small:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0},SmallHeavy:{layout:p,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Small"},Large:{layout:"large",useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},Hero:{layout:v,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"Medium"},HeroNarrow:{layout:v,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0},HeroVideo:{layout:v,useRelativeTime:!0,showMeta:!0,showTitle:!0,showVideo:!0,imageSize:"Large"},HeroOverlay:{layout:v,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStatus:!0,showImage:!0,imageSize:"XL",modifiers:["hero-image"]},TopStory:{layout:g,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showRelatedLinks:!0},TopStoryLandscape:{layout:g,useRelativeTime:!0,showMeta:!0,showTitle:!0,showStandfirst:!0,showStatus:!0,showImage:!0,imageSize:"XL",showRelatedLinks:!0,modifiers:["landscape"]}};t.Container=c,t.Content=h,t.CustomSlot=m,t.Headshot=N,t.Image=I,t.Meta=H,t.RelatedLinks=U,t.Standfirst=Q,t.Status=B,t.Teaser=function(e){return r.h(c,e,r.h(h,null,e.showMeta?r.h(H,e):null,"video"===u(e)?r.h(Z,e):null,e.showTitle?r.h(F,e):null,e.showStandfirst?r.h(Q,e):null,e.showStatus?r.h(B,e):null,e.showCustomSlot?r.h(m,e):null,"headshot"===u(e)?r.h(N,e):null),"image"===u(e)?r.h(I,e):null,e.showRelatedLinks?r.h(U,e):null)},t.Title=F,t.Video=Z,t.presets=$}}]);
//# sourceMappingURL=financial-times-x-teaser.f57d9b3c5bd1.bundle.js.map