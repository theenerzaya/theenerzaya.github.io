(window.webpackJsonp=window.webpackJsonp||[]).push([["privacy-components"],{"0b2f5b41":function(n,t,e){"use strict";e.r(t),e.d(t,"API_URL",(function(){return o})),e.d(t,"API_ENDPOINTS",(function(){return i})),e.d(t,"fetchLegislation",(function(){return s})),e.d(t,"buildConsentPageUrl",(function(){return a}));const o="https://privacy.ft.com/api/v1",i={complianceRegion:"/compliance-region.json"};function r(n){return{region:n.region,legislation:new Set(n.legislation.split(","))}}function c(){try{return sessionStorage.setItem("test","test"),sessionStorage.removeItem("test"),!0}catch(n){return!1}}async function s(){const n=c()&&sessionStorage.getItem("user-compliance"),t=n&&JSON.parse(n);if(t)return Promise.resolve(r(t));try{const n=await fetch(`${o}${i.complianceRegion}`),t=await(n.ok?n.json():Promise.reject(n));return c()&&sessionStorage.setItem("user-compliance",JSON.stringify(t)),r(t)}catch(n){throw new Error(n.status)}}function a(n){let{url:t,legislation:e,referrer:o}=n;const i=new URL(t),r=function(n){if(n)try{return new URL(n).hostname}catch(t){return n}return"undefined"==typeof window?"":window.location.hostname}(o);for(const n of e)i.searchParams.append("legislation",n);return r&&i.searchParams.set("referrer",r.toLowerCase()),i.toString()}},b8f58555:function(n,t,e){"use strict";e.r(t),e.d(t,"NO_PRIVACY_COOKIE",(function(){return i})),e.d(t,"getUsPrivacyCookie",(function(){return r})),e.d(t,"getUsPrivacyForTracking",(function(){return c})),e.d(t,"__uspapi",(function(){return s})),e.d(t,"setUSPrivacy",(function(){return a})),e.d(t,"setUSPrivacyCookie",(function(){return u}));var o=e("0b2f5b41");const i="no-privacy-cookie";function r(){const n=document.cookie.split("; ").find(n=>n.startsWith("usprivacy"));return n?n.split("=")[1]:null}function c(){return r()||i}async function s(n,t,e){if("function"==typeof e)if(1===t&&"getUSPData"===n)try{const n=r();if(n)return void e({version:t,uspString:n},!0);{const{legislation:n}=await Object(o.fetchLegislation)();return n.has("ccpa")?void e({version:t,uspString:"1NNN"},!0):void e({version:t,uspString:"1---"},!0)}}catch(n){e(void 0,!1)}else console.error("Invalid version or command specified for the __uspapi() function");else console.error("Please provide a valid callback to the __uspapi() function. __uspapi(command, version, callback)")}function a(){"function"!=typeof window.__uspapi&&(window.__uspapi=s)}function u(n,t){t=t||(document.location.hostname||"").replace("www.","");const e=`1Y${n?"N":"Y"}N`;document.cookie=`usprivacy=${e};max-age=157680000;path=/;domain=${t}`}}}]);
//# sourceMappingURL=privacy-components.2ed8dfb52f2d.bundle.js.map