(window.webpackJsonp=window.webpackJsonp||[]).push([["financial-times-o-viewport"],{"3c85f3e3":function(t,e,i){"use strict";i.r(e);var n=i("6d36580f");let o;function r(t){return t?document.documentElement.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function l(t){return t?document.documentElement.clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}var c={debug:function(){o=!0},broadcast:function(t,e,i){i=i||document.body,o&&console.log("o-viewport",t,e),i.dispatchEvent(new CustomEvent("oViewport."+t,{detail:e,bubbles:!0}))},getWidth:l,getHeight:r,getSize:function(t){return{height:r(t),width:l(t)}},getScrollPosition:function(){return{height:document.body.scrollHeight,width:document.body.scrollWidth,left:window.pageXOffset||window.scrollX,top:window.pageYOffset||window.scrollY}},getVisibility:function(){return document.hidden},getOrientation:function(){const t=window.screen.orientation;return t?"string"==typeof t?t.split("-")[0]:t.type.split("-")[0]:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape":r()>=l()?"portrait":"landscape"},debounce:n.debounce,throttle:n.throttle};const s=c.throttle,a=c.debounce,d={},u={resize:100,orientation:100,visibility:100,scroll:100};e.default={debug:function(){c.debug()},listenTo:function(t){"resize"!==t&&"all"!==t||function(){if(d.resize)return;const t=a((function(t){c.broadcast("resize",{viewport:c.getSize(),originalEvent:t})}),u.resize);window.addEventListener("resize",t),d.resize={eventType:"resize",handler:t}}(),"scroll"!==t&&"all"!==t||function(){if(d.scroll)return;const t=s((function(t){const e=c.getScrollPosition();c.broadcast("scroll",{viewport:c.getSize(),scrollHeight:e.height,scrollLeft:e.left,scrollTop:e.top,scrollWidth:e.width,originalEvent:t})}),u.scroll);window.addEventListener("scroll",t),d.scroll={eventType:"scroll",handler:t}}(),"orientation"!==t&&"all"!==t||function(){if(d.orientation)return;const t=a((function(t){c.broadcast("orientation",{viewport:c.getSize(),orientation:c.getOrientation(),originalEvent:t})}),u.orientation);window.addEventListener("orientationchange",t),d.orientation={eventType:"orientationchange",handler:t}}(),"visibility"!==t&&"all"!==t||function(){if(d.visibility)return;const t=a((function(t){c.broadcast("visibility",{hidden:c.getVisibility(),originalEvent:t})}),u.visibility);window.addEventListener("visibilitychange",t),d.visibility={eventType:"visibilitychange",handler:t}}()},stopListeningTo:function t(e){"all"===e?Object.keys(d).forEach(t):d[e]&&(window.removeEventListener(d[e].eventType,d[e].handler),delete d[e])},setThrottleInterval:function t(e,i){"number"==typeof arguments[0]?(t("scroll",arguments[0]),t("resize",arguments[1]),t("orientation",arguments[2]),t("visibility",arguments[3])):i&&(u[e]=i)},getOrientation:c.getOrientation,getSize:c.getSize,getScrollPosition:c.getScrollPosition,getVisibility:c.getVisibility}}}]);
//# sourceMappingURL=financial-times-o-viewport.6bb16d679dcd.bundle.js.map